openapi: 3.1.0
info:
  title: Web Todo API
  version: 1.0.0
  description: API for Phase II Web Todo Application
paths:
  /api/auth/signup:
    post:
      summary: Register a new user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email, password]
              properties:
                email: {type: string, format: email}
                password: {type: string, minLength: 8}
      responses:
        '201':
          description: User created
  /api/auth/signin:
    post:
      summary: Authenticate user and return JWT
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email, password]
              properties:
                email: {type: string, format: email}
                password: {type: string}
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token: {type: string}
                  token_type: {type: string}
  /api/{user_id}/tasks:
    parameters:
      - name: user_id
        in: path
        required: true
        schema: {type: string, format: uuid}
    get:
      summary: List user tasks
      security: [{bearerAuth: []}]
      responses:
        '200':
          description: List of tasks
    post:
      summary: Create a new task
      security: [{bearerAuth: []}]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [title]
              properties:
                title: {type: string}
                description: {type: string}
      responses:
        '201':
          description: Task created
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
